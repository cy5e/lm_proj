import shutil
import os

DIR_ORIGINAL_DATASET = './data/train/'
DIR_AUG_DATA = './data/aug_data/'
DIR_SAVE = './data/sample_test/'

if not os.path.exists(DIR_SAVE):
    os.makedirs(DIR_SAVE)


#missed_classes = [11784, 3924, 10033, 5955, 1602, 1472, 4793, 5163, 3457, 515, 2339, 8855, 11676, 1276, 5512, 9907, 9231, 8940, 11095, 12613, 1447, 14291, 5574, 1358, 11199, 8582, 10655, 6455, 3550, 8633, 13676, 10296, 9275, 9943, 6292, 9256, 4547, 5087, 11011, 11998, 4124, 7442, 7272, 9328, 5800, 13799, 6322, 11133, 10369, 5558, 9003, 10382, 8160, 6274, 1533, 3419, 1394, 8999, 9682, 11849, 8026, 14455, 8613, 1341, 10977, 12948, 2972, 2918, 11437, 14292, 4227, 11004, 3066, 514, 9529, 11532, 7758, 7894, 8358, 13268, 4045, 4682, 4881, 5303, 9728, 683, 10531, 1062, 12012, 7690, 3465, 11679, 1160, 9757, 2545, 13932, 10921, 845, 10302, 4810, 132, 14646, 6967, 12794, 8904, 10652, 1765, 10731, 12295, 8382, 1309, 3596, 9917, 11291, 2351, 7652, 12471, 6154, 995, 2193, 11847, 10135, 3680, 8213, 13376, 11020, 3828, 6606, 8829, 14696, 7703, 12543, 8531, 1444, 10391, 447, 11639, 10976, 6527, 8909, 782, 11107, 9761, 14500, 1026, 14201, 5024, 12850, 6100, 1827, 14132, 1592, 8276, 9643, 6250, 176, 11748, 3599, 11898, 11400, 4499, 5996, 4209, 12791, 2197, 1108, 5948, 7411, 10525, 11195, 10629]



with open('./data/sample_test.txt') as f:
    for line in f:
        line = line.strip()
        split_idx = line.find('/')
        class_id = line[:split_idx]
        if True: #int(class_id) in missed_classes:
            path_src = DIR_ORIGINAL_DATASET + class_id
            path_dest = DIR_SAVE + class_id
            if not os.path.exists(path_dest):
                os.makedirs(path_dest)
            img_id = line[split_idx+1:]
            path_src += '/' + img_id
            shutil.copyfile(path_src, path_dest + '/' + img_id)



